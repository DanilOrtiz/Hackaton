<ion-header>

  <ion-navbar color="white">
    <ion-title>candelibas</ion-title>

    <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="person-add" class="badge-container">
          <span class="custom-badge">3</span>
        </ion-icon>
      </button>
      <button ion-button icon-only (click)="goOptions()">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>
<ion-content>

  <ion-row padding >
    <!-- Avatar -->
    <ion-col col-3>
      <img src="https://avatars1.githubusercontent.com/u/918975?v=3&s=120" class="avatar" alt="">
    </ion-col>
    <!-- Information about user
    <ion-col col-3 text-center >
      <h6>21</h6>
      <p no-padding no-margin>posts</p>
    </ion-col>
    <ion-col col-3 text-center>
      <h6>114</h6>
      <p no-paddin no-margin>followers</p>
    </ion-col>
    <ion-col col-3 text-center>
      <h6>119</h6>
      <p no-paddin no-margin>following</p>
    </ion-col> -->
  </ion-row>
  <!-- Edit/follow button -->
  <!-- <ion-row no-padding no-margin>
    <ion-col no-padding no-margin col-4></ion-col>
      <ion-col no-padding no-margin text-center col-8>
      <button class="edit-button" (click)="goEditProfile()">Edit your profile</button>
    </ion-col>
    <ion-col col-3></ion-col>
  </ion-row> -->

  <!-- Profile info -->
  <div padding>
      <br>
      <br>

  </div>
  <!-- <div padding>
    <p no-margin no-padding><b>Can Delibas</b></p>
    <p no-padding no-margin class="info">Software developer, open-source lover, invoker spammer & heavy metal guitarist</p>
    <p no-padding no-margin class="info"><a href="#">github.com/candelibas</a></p>
  </div> -->

  <!-- Segments -->
  <div>
    <ion-segment [(ngModel)]="profile_segment">
      <ion-segment-button value="grid">
        <ion-icon name="apps"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="list">
        <ion-icon name="list"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="tagged" (click)="goTaggedProfile()">
        <ion-icon name="photos"></ion-icon>
      </ion-segment-button>
      <ion-segment-button value="saved" (click)="goSavedProfile()">
        <ion-icon name="bookmark"></ion-icon>
      </ion-segment-button>
    </ion-segment>
  </div>

  <!-- Segment content -->
  <!-- <div [ngSwitch]="profile_segment">
    <ion-list *ngSwitchCase="'grid'">
      <ion-grid>
        <ion-row >
          <ion-col col-4 class="grid_img" *ngFor="let i of images" (press)="pressPhoto(i.id, i.username, i.profile_img, i.post_img)">
            <img [src]="i.post_img" alt="">
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-list>

    <ion-list *ngSwitchCase="'list'">
      

    </ion-list>
  </div>
   -->
   <div *ngFor="let suceso of sucesos">

      <!-- Cards -->
      <ion-card no-padding padding-bottom no-margin>
        <ion-row>
          <ion-col col-10>
            <ion-item>
          <ion-avatar item-left>
            <img [src]="suceso.usuario.imagenUrl">
          </ion-avatar>
          <ion-avatar item-left>
          <h2 text-left style="font-weight: bold; color:black !important">{{suceso.usuario.usuarioNombre}}</h2>  
          <ion-note text-left style="font-size: 12px">
            {{suceso.fechaAgrega}}
          </ion-note>    
        </ion-avatar>
  
        
        </ion-item>
          </ion-col >
          <ion-col col-2>
            <button no-margin no-padding clear color="black" ion-button icon-only style="float: right; top: 15px" (click)="presentPostPopover()">
              <ion-icon name="more"></ion-icon>
          </button>
          </ion-col>
  
          <ion-col col-12>
            <div class="row carousel-holder">
              <div class="col-md-12">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                          <li data-target="#carousel-example-generic" data-slide-to="0" class="active" ></li>
                          <li data-target="#carousel-example-generic" data-slide-to="1" ></li>
                    </ol>
                    <div class="carousel-inner" *ngFor="let multimedia of suceso.sucesosMultimedia;let i = index">                   
                        <div class="item" [class.active]="i==0">
                              <img class="slide-image" [src]="multimedia.ruta" (tap)="tapPhotoLike($event)">
                       </div>   
                       
                       <div class="item">
                          <img class="slide-image" [src]="multimedia.ruta" (tap)="tapPhotoLike($event)">
                      </div>
                  </div>
  
                    <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </a>
                </div>
            </div>
              </div>
          </ion-col>
        </ion-row>
  
        <p no-margin no-padding>
          <ion-fab>
              <button ion-fab mini style="background-color: transparent; box-shadow: none; " class="like-btn">
                  <img src="assets/icon/like.png" width="15px" height="25px">
              </button>
              <ion-fab-list side="top">
                  <button ion-fab (click)="InsertarValoracion(1,suceso.id)">
                    <img src="assets/icon/like.png">
                  </button>
                  <button ion-fab (click)="InsertarValoracion(2,suceso.id)">
                      <img src="assets/icon/sad.png">
                  </button>
                  <button ion-fab (click)="InsertarValoracion(3,suceso.id)">
                      <img src="assets/icon/angry.png">
                  </button>
                  <button ion-fab (click)="InsertarValoracion(4,suceso.id)">
                      <img src="assets/icon/confused.png">
                  </button>
                </ion-fab-list>
            </ion-fab>    
        </p>
        <hr>
  
        <ion-card-content>
          <p class="like-content"><ion-icon name="heart"></ion-icon> 250 likes</p>
          <p><b>{{suceso.descripcion}}</b></p>
        </ion-card-content>  
  
        <ion-col>
            <button ion-button color="primary" clear small icon-start (click)="MostrarComentarios(suceso.id)">
              <ion-icon name='text'></ion-icon>
              {{suceso.cantidadComentarios}} Commentarios
            </button>
          </ion-col>
  
          <div *ngIf="suceso.mostrarComentarios">
          <ion-list *ngFor="let comentario of suceso.sucesoComentarios">
              <ion-item >
                <ion-avatar item-start>
                  <img [src]="comentario.usuario.imagenUrl">
                </ion-avatar>
              <ion-avatar item-left>
                <h5 text-left style="font-weight: bold; color:black !important">{{comentario.usuario.usuarioNombre}}</h5>
                <ion-note text-left style="font-size: 12px">
                    {{comentario.fechaAgrega}}
                  </ion-note>
                <p>{{comentario.comentario}}</p>
              </ion-avatar>              
              </ion-item>
            </ion-list>
          </div>
  
      </ion-card>
  
      
    </div>

</ion-content>
